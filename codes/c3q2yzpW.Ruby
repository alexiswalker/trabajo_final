require 'Base64' # includen der Base64 libary
# Definieren des bildes, direkt im quellcode zwecks kompaktheit/damit man nur eine datei benötigt
# Mir ist klar, dass "Daten im Quellcode" nicht die feine Art sind, aber es ist der einfachste Weg.
picb64="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"

Dir.glob("*.rar").each{ |file| # alle files des aktuellen verzeichnisses mit der endung .rar auflisten
# und folgendes mit den einzelnen files mcahen
b64=File.new(file, "rb") #read binary öffnen
fc=b64.read() #auslesen und zwischenspeichern
b64.close
b64=File.new(file, "wb") # write binary öffnen
b64.write(Base64.decode64(picb64)) 
b64.write(fc) # zuerst jpg dann alte daten hinein schreiben
b64.close
File.rename(file, file+".jpg") # auf.jpg umbenennen
puts b64
}